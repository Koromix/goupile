[miniz]
Type = Library
SourceDirectory = vendor/miniz
Features = -Warnings

[brotli]
Type = Library
SourceDirectory = vendor/brotli/c/common
SourceDirectory = vendor/brotli/c/dec
SourceDirectory = vendor/brotli/c/enc
IncludeDirectory = vendor/brotli/c/include
Definitions_macOS = OS_MACOSX
Features = -Warnings

[libmicrohttpd]
Type = Library
SourceDirectory = vendor/libmicrohttpd/src/microhttpd
SourceIgnore = connection_https.c test_*.c
IncludeDirectory = vendor/libmicrohttpd
IncludeDirectory = vendor/libmicrohttpd/src/include
Link_Windows = ws2_32
Features = -Warnings

[libsodium]
Type = Library
SourceDirectoryRec = vendor/libsodium/src/libsodium
IncludeDirectory = vendor/libsodium/src/libsodium/include
IncludeDirectory = vendor/libsodium/src/libsodium/include/sodium
Definitions = SODIUM_STATIC
Definitions_POSIX = HAVE_PTHREAD
ExportDefinitions = SODIUM_STATIC
Features = -Warnings

[sqlite3mc]
Type = Library
SourceFile = vendor/sqlite3mc/sqlite3mc.c
Definitions = SQLITE_THREADSAFE=1 SQLITE_DQS=0 SQLITE_DEFAULT_MEMSTATUS=0 SQLITE_LIKE_DOESNT_MATCH_BLOBS=1 SQLITE_ENABLE_MATH_FUNCTIONS=1 HAVE_USLEEP
Definitions_Linux = HAVE_MALLOC_H HAVE_MALLOC_USABLE_SIZE HAVE_FDATASYNC HAVE_STRCHRNUL
Features = -Warnings
Features_Windows = -CFI

[mbedtls]
Type = Library
SourceDirectory = vendor/mbedtls/library
IncludeDirectory = vendor/mbedtls/include
Link_Windows = advapi32
Features = -Warnings

[libcurl]
Type = Library
SourceDirectoryRec = vendor/curl/lib
IncludeDirectory = vendor/curl/include
IncludeDirectory = vendor/curl/lib
IncludeDirectory = vendor/mbedtls/include
Definitions = BUILDING_LIBCURL USE_IPV6 USE_MBEDTLS CURL_DISABLE_LDAP CURL_STATICLIB
ExportDefinitions = CURL_STATICLIB
Link_Windows = advapi32 bcrypt
ImportFrom = mbedtls
Features = -Warnings
PrecompileC = vendor/curl/lib/curl_setup.h

[pugixml]
Type = Library
SourceFile = vendor/pugixml/src/pugixml.cpp
Features = -Warnings

[libseccomp]
Type = Library
Hosts = Linux
SourceDirectory = vendor/libseccomp/src
SourceIgnore = arch-syscall-*.c
IncludeDirectory = vendor/libseccomp
IncludeDirectory = vendor/libseccomp/include
Features = -Warnings

[libssh]
Type = Library
SourceDirectory = vendor/libssh/src
SourceDirectory = vendor/libssh/src/external
SourceFile = vendor/libssh/src/threads/mbedtls.c
SourceFile = vendor/libssh/src/threads/noop.c
SourceFile_POSIX = vendor/libssh/src/threads/pthread.c
SourceFile_Win32 = vendor/libssh/src/threads/winlocks.c
SourceIgnore = libgcrypt.c *_gcrypt.c libcrypto.c libcrypto-compat.c *_crypto.c
SourceIgnore = gssapi.c chacha.c chachapoly.c poly1305.c server.c bind.c bind_config.c sftpserver.c
IncludeDirectory = vendor/libssh
IncludeDirectory = vendor/libssh/include
IncludeDirectory = vendor/miniz
IncludeDirectory = vendor/mbedtls/include
Definitions = LIBSSH_STATIC HAVE_LIBMBEDCRYPTO=1 HAVE_MBEDTLS_CHACHA20_H=1 HAVE_MBEDTLS_POLY1305_H=1
ExportDefinitions = LIBSSH_STATIC
ImportFrom = miniz mbedtls
Link_Windows = ws2_32
Features = -Warnings

[libcc]
Type = Library
SourceDirectory = src/core/libcc
ImportFrom = miniz brotli
PrecompileCXX = src/core/libcc/libcc.hh
Link_Windows = ws2_32 advapi32 ole32 shell32 uuid

[libpasswd]
Type = Library
SourceDirectory = src/core/libpasswd
SourceFile = vendor/qrcodegen/qrcodegen.cpp
SourceIgnore = libpasswd.cc
ImportFrom = libcc mbedtls libsodium
PrecompileCXX = src/core/libcc/libcc.hh
ImportFrom_Linux = libseccomp

[libsandbox]
Type = Library
SourceDirectory = src/core/libsandbox
SourceIgnore = libsandbox.cc
ImportFrom = libcc
PrecompileCXX = src/core/libcc/libcc.hh
ImportFrom_Linux = libseccomp

[libnet]
Type = Library
Hosts = Desktop
SourceDirectory = src/core/libnet
SourceFile = src/core/libwrap/json.cc
SourceIgnore = libnet.cc
ImportFrom = libcc libmicrohttpd libsodium libcurl libssh pugixml
PrecompileCXX = src/core/libcc/libcc.hh

[libsqlite]
Type = Library
SourceDirectory = src/core/libsqlite
SourceIgnore = libsqlite.cc
ImportFrom = sqlite3mc libsodium
PrecompileCXX = src/core/libcc/libcc.hh

[felix]
Type = Executable
Hosts = Desktop
SourceDirectory = src/felix
SourceFile = src/core/libwrap/json.cc
ImportFrom = libcc pugixml
Link_Windows = advapi32
PrecompileCXX = src/core/libcc/libcc.hh

[goupile]
Type = Executable
Hosts = Desktop
SourceDirectory = src/goupile/server
SourceFile = src/core/libwrap/json.cc
AssetFile = vendor/ace/src-min/ace.js
AssetFile = vendor/ace/src-min/mode-css.js
AssetFile = vendor/ace/src-min/mode-html.js
AssetFile = vendor/ace/src-min/mode-javascript.js
AssetFile = vendor/ace/src-min/theme-merbivore_soft.js
AssetFile = vendor/ace/src-min/theme-monokai.js
AssetFile = vendor/ace/src-min/ext-searchbox.js
AssetFile = vendor/lit-html/lit-html.min.js
AssetFile = vendor/chartjs/chart.min.js
AssetFile = vendor/sheetjs/xlsx.core.min.js
AssetDirectory = vendor/tweetnacl-js
AssetDirectory = vendor/docxtemplater
AssetDirectory = src/web/libjs
AssetDirectory = vendor/opensans
AssetDirectoryRec = src/goupile/client
AssetDirectoryRec = src/goupile/demo
AssetIgnore = LICENSE.txt *.xcf *.md
AssetOptions = -cGzip -M src/goupile/server/packer.ini
ImportFrom = libcc libsqlite libnet libsandbox libpasswd libsodium
PrecompileCXX = src/core/libcc/libcc.hh

